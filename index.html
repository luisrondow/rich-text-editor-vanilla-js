<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Rich Text Editor</title>
  <style>
    .editor-container {
      max-width: 800px;
      margin: 20px auto;
    }

    #editor {
      border: 1px solid #ccc;
      min-height: 300px;
      padding: 20px;
      margin-top: 10px;
    }

    .toolbar {
      background-color: #f5f5f5;
      padding: 10px;
      border: 1px solid #ccc;
      border-bottom: none;
    }

    .toolbar button {
      margin: 0 5px;
      padding: 5px 10px;
      cursor: pointer;
    }
  </style>
</head>

<body>
  <div class="editor-container">
    <div class="toolbar">
      <button onclick="formatText('bold')" title="Bold"><b>B</b></button>
      <button onclick="formatText('italic')" title="Italic"><i>I</i></button>
      <button onclick="formatText('underline')" title="Underline">
        <u>U</u>
      </button>
      <button onclick="insertTable()" title="Insert Table">Table</button>
      <button onclick="insertList('ul')" title="Bullet List">‚Ä¢ List</button>
      <button onclick="insertList('ol')" title="Numbered List">
        1. List
      </button>
      <button onclick="insertImage()" title="Insert Image">üñºÔ∏è Image</button>
      <span style="margin-left: 10px">
        Page Height (px):
        <input type="number" id="pageHeight" min="100" value="200" style="width: 70px" />
        <button onclick="setPageBreak()" title="Set Page Break Height">
          Set
        </button>
      </span>
    </div>
    <div id="editor" contenteditable="true">
      <div>
        <img
          src="https://media.istockphoto.com/id/1316134499/photo/a-concept-image-of-a-magnifying-glass-on-blue-background-with-a-word-example-zoom-inside-the.jpg?s=612x612&amp;w=0&amp;k=20&amp;c=sZM5HlZvHFYnzjrhaStRpex43URlxg6wwJXff3BE9VA="
          alt="Inserted image" style="max-width: 100%; height: auto; width: 300px" />
      </div>
      <br />
      <div><br /></div>
      <div><br /></div>
      <div><b>This is the heading</b></div>
      <div>
        <b><br /></b>
      </div>
      <div>
        Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam
        nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat,
        sed diam voluptua. At vero eos et accusam et justo duo dolores et ea
        rebum. Stet clita kasd gubergren, no sea takimata sanctus est Lorem
        ipsum dolor sit amet. Lorem ipsum dolor sit amet, consetetur
        sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et
        dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam
        et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea
        takimata sanctus est Lorem ipsum dolor sit amet.
      </div>
      <div><br /></div>
      <div>
        Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam
        nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat,
        sed diam voluptua. At vero eos et accusam et justo duo dolores et ea
        rebum. Stet clita kasd gubergren, no sea takimata sanctus est Lorem
        ipsum dolor sit amet. Lorem ipsum dolor sit amet, consetetur
        sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et
        dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam
        et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea
        takimata sanctus est Lorem ipsum dolor sit amet.
      </div>
      <div><br /></div>
      <div><br /></div>
      <div>
        <table border="1" style="width: 100%; margin: 10px 0">
          <tbody>
            <tr>
              <td>Cell 1</td>
              <td>Cell 2</td>
            </tr>
            <tr>
              <td>Cell 3</td>
              <td>Cell 4</td>
            </tr>
            <tr></tr>
            <tr>
              <td>Cell 1</td>
              <td>Cell 2</td>
            </tr>
            <tr>
              <td>Cell 3</td>
              <td>Cell 4</td>
            </tr>
            <tr>
              <td>Cell 1</td>
              <td>Cell 2</td>
            </tr>
            <tr>
              <td>Cell 3</td>
              <td>Cell 4</td>
            </tr>

            <tr>
              <td>Cell 1</td>
              <td>Cell 2</td>
            </tr>
            <tr>
              <td>Cell 3</td>
              <td>Cell 4</td>
            </tr>
          </tbody>
        </table>
      </div>
      <div><br /></div>
      <div>
        <div>
          Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam
          nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam
          erat, sed diam voluptua. At vero eos et accusam et justo duo dolores
          et ea rebum. Stet clita kasd gubergren, no sea takimata sanctus est
          Lorem ipsum dolor sit amet. Lorem ipsum dolor sit amet, consetetur
          sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore
          et dolore magna aliquyam erat, sed diam voluptua. At vero eos et
          accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren,
          no sea takimata sanctus est Lorem ipsum dolor sit amet.
        </div>
        <br />
      </div>
      <div>
        <ul>
          <li>List item</li>
          <li>another</li>
          <li>item</li>
          <li>item</li>
          <li>item</li>
          <li>item</li>
          <li>item</li>
          <li>item</li>
        </ul>
        Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam
        nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat,
        sed diam voluptua. At vero eos et accusam et justo duo dolores et ea
        rebum. Stet clita kasd gubergren, no sea takimata sanctus est Lorem
        ipsum dolor sit amet. Lorem ipsum dolor sit amet, consetetur
        sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et
        dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam
        et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea
        takimata sanctus est Lorem ipsum dolor sit amet.Lorem ipsum dolor sit
        amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor
        invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua.
        At vero eos et accusam et justo duo dolores et ea rebum. Stet clita
        kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit
        amet. Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed
        diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam
        erat, sed diam voluptua. At vero eos et accusam et justo duo dolores
        et ea rebum. Stet clita kasd gubergren, no sea takimata sanctus est
        Lorem ipsum dolor sit amet.Lorem ipsum dolor sit amet, consetetur
        sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et
        dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam
        et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea
        takimata sanctus est Lorem ipsum dolor sit amet. Lorem ipsum dolor sit
        amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor
        invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua.
        At vero eos et accusam et justo duo dolores et ea rebum. Stet clita
        kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit
        amet.
      </div>
      <div><br /></div>
      <div>
        Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam
        nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat,
        sed diam voluptua. At vero eos et accusam et justo duo dolores et ea
        rebum. Stet clita kasd gubergren, no sea takimata sanctus est Lorem
        ipsum dolor sit amet. Lorem ipsum dolor sit amet, consetetur
        sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et
        dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam
        et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea
        takimata sanctus est Lorem ipsum dolor sit amet. <br />
      </div>
      <div><br /></div>
      <div>
        <div>
          <img
            src="https://media.istockphoto.com/id/1316134499/photo/a-concept-image-of-a-magnifying-glass-on-blue-background-with-a-word-example-zoom-inside-the.jpg?s=612x612&amp;w=0&amp;k=20&amp;c=sZM5HlZvHFYnzjrhaStRpex43URlxg6wwJXff3BE9VA="
            alt="Inserted image" style="max-width: 100%; height: auto; width: 700px" />
        </div>
        <br />
      </div>
      <br />
      <div>
        Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam
        nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat,
        sed diam voluptua. At vero eos et accusam et justo duo dolores et ea
        rebum. Stet clita kasd gubergren, no sea takimata sanctus est Lorem
        ipsum dolor sit amet. Lorem ipsum dolor sit amet, consetetur
        sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et
        dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam
        et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea
        takimata sanctus est Lorem ipsum dolor sit amet. <br />
      </div>
      <div>
        Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam
        nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat,
        sed diam voluptua. At vero eos et accusam et justo duo dolores et ea
        rebum. Stet clita kasd gubergren, no sea takimata sanctus est Lorem
        ipsum dolor sit amet. Lorem ipsum dolor sit amet, consetetur
        sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et
        dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam
        et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea
        takimata sanctus est Lorem ipsum dolor sit amet. <br />
      </div>
      <div>
        Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam
        nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat,
        sed diam voluptua. At vero eos et accusam et justo duo dolores et ea
        rebum. Stet clita kasd gubergren, no sea takimata sanctus est Lorem
        ipsum dolor sit amet. Lorem ipsum dolor sit amet, consetetur
        sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et
        dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam
        et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea
        takimata sanctus est Lorem ipsum dolor sit amet. <br />
      </div>
      <div>
        Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam
        nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat,
        sed diam voluptua. At vero eos et accusam et justo duo dolores et ea
        rebum. Stet clita kasd gubergren, no sea takimata sanctus est Lorem
        ipsum dolor sit amet. Lorem ipsum dolor sit amet, consetetur
        sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et
        dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam
        et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea
        takimata sanctus est Lorem ipsum dolor sit amet. <br />
      </div>
    </div>
  </div>

  <script>
    function formatText(command) {
      document.execCommand(command, false, null);
    }

    function insertTable() {
      const table = `
                <table border="1" style="width: 100%; margin: 10px 0;">
                    <tr>
                        <td>Cell 1</td>
                        <td>Cell 2</td>
                    </tr>
                    <tr>
                        <td>Cell 3</td>
                        <td>Cell 4</td>
                    </tr>
                </table>
            `;
      document.execCommand("insertHTML", false, table);
    }

    function insertList(type) {
      const selection = window.getSelection();
      const range = selection.getRangeAt(0);

      const list = document.createElement(type);
      const listItem = document.createElement("li");
      listItem.textContent = "List item";
      list.appendChild(listItem);

      range.deleteContents();
      range.insertNode(list);

      // Create a new list item and set cursor inside it
      const newItem = document.createElement("li");
      newItem.appendChild(document.createElement("br"));
      list.appendChild(newItem);

      // Set cursor to the new item
      const newRange = document.createRange();
      newRange.setStart(newItem, 0);
      newRange.collapse(true);
      selection.removeAllRanges();
      selection.addRange(newRange);
    }

    function insertImage() {
      const imageUrl = prompt("Please enter the image URL:");
      if (imageUrl) {
        const img = `<img src="${imageUrl}" alt="Inserted image" style="max-width: 100%; height: auto;">`;
        document.execCommand("insertHTML", false, img);
      }
    }

    const editor = document.getElementById("editor");
    editor.addEventListener(
      "focus",
      function (e) {
        if (editor.textContent === "Start typing here...") {
          editor.textContent = "";
        }
      },
      { once: true }
    );

    const MIN_PAGE_HEIGHT = 100;

    function setPageBreak() {
      const pageHeightInput = document.getElementById("pageHeight");
      const pageHeight = parseInt(pageHeightInput.value, 10);
      const editor = document.getElementById("editor");

      if (
        Number.isNaN(pageHeight) ||
        pageHeight <= 0 ||
        pageHeight < MIN_PAGE_HEIGHT
      ) {
        alert(
          `Please enter a positive page height greater than ${MIN_PAGE_HEIGHT}px.`
        );
        pageHeightInput.focus();
        return;
      }

      editor.querySelectorAll("page-break").forEach((br) => br.remove());

      const isEmptyText = (n) =>
        n.nodeType === Node.TEXT_NODE && !n.textContent.trim();

      function firstMeaningfulChild(wrapper) {
        let n = wrapper.firstChild;
        while (n && (n.nodeType === Node.COMMENT_NODE || isEmptyText(n)))
          n = n.nextSibling;
        return n || null;
      }

      function emptyCloneNoId(el) {
        const clone = el.cloneNode(false);
        if (clone.hasAttribute && clone.hasAttribute("id"))
          clone.removeAttribute("id");
        while (clone.firstChild) clone.removeChild(clone.firstChild);
        return clone;
      }

      function computeUsableBottom(el, maxHeight) {
        const cs = getComputedStyle(el);
        const padBottom = parseFloat(cs.paddingBottom) || 0;
        const borderBottom = parseFloat(cs.borderBottomWidth) || 0;
        const top = el.getBoundingClientRect().top;
        return top + maxHeight - padBottom - borderBottom;
      }

      function splitModeForTextNode(tn, containerEl, maxHeight) {
        if (!tn || tn.nodeType !== Node.TEXT_NODE) return { mode: "fits" };

        const fullText = tn.textContent || "";
        if (!fullText.trim()) return { mode: "fits" };

        const range = document.createRange();
        range.setStart(tn, 0);
        range.setEnd(tn, fullText.length);

        const rects = Array.from(range.getClientRects());
        if (rects.length === 0) return { mode: "fits" };

        const usableBottom = computeUsableBottom(containerEl, maxHeight);

        let linesThatFit = 0;
        for (const r of rects) {
          if (r.bottom <= usableBottom) linesThatFit++;
          else break;
        }

        if (linesThatFit === 0) return { mode: "before" };
        if (linesThatFit >= rects.length) return { mode: "fits" };

        const rectCountUpTo = (endOffset) => {
          range.setStart(tn, 0);
          range.setEnd(tn, endOffset);
          return range.getClientRects().length;
        };

        let lo = 1, hi = fullText.length, ans = 1;
        while (lo <= hi) {
          const mid = (lo + hi) >>> 1;
          const count = rectCountUpTo(mid);
          if (count <= linesThatFit) { ans = mid; lo = mid + 1; }
          else { hi = mid - 1; }
        }

        while (ans > 0 && /\S/.test(fullText[ans]) && /\S/.test(fullText[ans - 1])) ans--;

        if (ans <= 0) return { mode: "before" };
        return { mode: "split", index: ans };
      }

      function splitTextNodeByHeight(tn, maxHeight, containerEl) {
        const { mode, index } = splitModeForTextNode(tn, containerEl, maxHeight);

        if (mode === "before") return { current: null, next: containerEl };
        if (mode === "fits") return { current: containerEl, next: null };

        const overflowText = tn.splitText(index);

        const nextWrapper = emptyCloneNoId(containerEl);
        nextWrapper.appendChild(overflowText);
        containerEl.insertAdjacentElement("afterend", nextWrapper);

        return { current: containerEl, next: nextWrapper };
      }

      function splitInlineElementByHeight(el, maxHeight, containerEl) {
        if (containerEl.scrollHeight <= maxHeight)
          return { current: containerEl, next: null };

        const tn = (el.firstChild && el.firstChild.nodeType === Node.TEXT_NODE) ? el.firstChild : null;
        if (!tn) return { current: containerEl, next: null };

        const { mode, index } = splitModeForTextNode(tn, containerEl, maxHeight);

        if (mode === "before") return { current: null, next: containerEl };
        if (mode === "fits") return { current: containerEl, next: null };

        const fullText = tn.textContent || "";
        const splitAt = index;

        tn.textContent = fullText.slice(0, splitAt);

        const overflowEl = el.cloneNode(false);
        overflowEl.textContent = fullText.slice(splitAt);

        const nextWrapper = emptyCloneNoId(containerEl);
        nextWrapper.appendChild(overflowEl);
        containerEl.insertAdjacentElement("afterend", nextWrapper);

        return { current: containerEl, next: nextWrapper };
      }
      function splitTableByHeight(table, maxHeight, containerEl) {
        const usableBottom = computeUsableBottom(containerEl, maxHeight);
        const box = table.getBoundingClientRect();
        if (box.bottom <= usableBottom)
          return { current: containerEl, next: null };

        let tbody = table.tBodies[0];
        if (!tbody) {
          const directRows = Array.from(
            table.querySelectorAll(":scope > tr")
          );
          if (!directRows.length) return { current: containerEl, next: null };
          tbody = document.createElement("tbody");
          directRows.forEach((tr) => tbody.appendChild(tr));
          table.appendChild(tbody);
        }

        const rows = Array.from(tbody.rows);

        let lastGood = -1;
        for (let i = 0; i < rows.length; i++) {
          const rBox = rows[i].getBoundingClientRect();
          if (rBox.bottom <= usableBottom) lastGood = i;
          else break;
        }

        if (lastGood === -1) return { current: null, next: containerEl };
        if (lastGood >= rows.length - 1)
          return { current: containerEl, next: null };

        const nextTable = table.cloneNode(false);
        const tbody2 = document.createElement("tbody");

        for (let i = lastGood + 1; i < rows.length; i++)
          tbody2.appendChild(rows[i]);

        nextTable.appendChild(tbody2);

        const nextWrapper = emptyCloneNoId(containerEl);
        nextWrapper.appendChild(nextTable);
        containerEl.insertAdjacentElement("afterend", nextWrapper);

        return { current: containerEl, next: nextWrapper };
      }

      function splitListByHeight(listEl, maxHeight, containerEl) {
        const usableBottom = computeUsableBottom(containerEl, maxHeight);
        const items = Array.from(listEl.querySelectorAll(":scope > li"));

        if (!items.length) return { current: containerEl, next: null };

        const listBox = listEl.getBoundingClientRect();
        if (listBox.bottom <= usableBottom)
          return { current: containerEl, next: null };

        let lastGood = -1;
        for (let i = 0; i < items.length; i++) {
          const itBox = items[i].getBoundingClientRect();
          if (itBox.bottom <= usableBottom) lastGood = i;
          else break;
        }

        if (lastGood === -1) return { current: null, next: containerEl };
        if (lastGood >= items.length - 1)
          return { current: containerEl, next: null };

        const nextList = listEl.cloneNode(false);

        if (listEl.tagName === "OL") {
          const start = Math.max(1, lastGood + 2);
          nextList.setAttribute("start", String(start));
          if (listEl.hasAttribute("type"))
            nextList.setAttribute("type", listEl.getAttribute("type"));
        }

        for (let i = lastGood + 1; i < items.length; i++)
          nextList.appendChild(items[i]);

        const nextWrapper = emptyCloneNoId(containerEl);
        nextWrapper.appendChild(nextList);
        containerEl.insertAdjacentElement("afterend", nextWrapper);

        return { current: containerEl, next: nextWrapper };
      }

      function splitImageByHeight(img, maxHeight, containerEl) {
        const rect = img.getBoundingClientRect();

        if (rect.height > maxHeight) {
          img.style.maxHeight = `${maxHeight}px`;
          img.style.height = "auto";
          img.style.width = "auto";
        }

        return { current: containerEl, next: null };
      }

      function splitDivByHeight(divEl, maxHeight, containerEl) {
        const children = Array.from(divEl.childNodes).filter(
          (n) =>
            n.nodeType === Node.ELEMENT_NODE ||
            (n.nodeType === Node.TEXT_NODE && n.textContent.trim())
        );

        if (
          children.length === 1 &&
          children[0].nodeType === Node.ELEMENT_NODE
        ) {
          return splitElement(children[0], maxHeight, containerEl);
        }

        return splitInlineElementByHeight(divEl, maxHeight, containerEl);
      }

      function splitElement(node, maxHeight, containerEl) {
        if (node.nodeType === Node.TEXT_NODE)
          return splitTextNodeByHeight(node, maxHeight, containerEl);
        if (node.nodeType !== Node.ELEMENT_NODE)
          return { current: containerEl, next: null };

        switch (node.tagName) {
          case "DIV":
            return splitDivByHeight(node, maxHeight, containerEl);
          case "TABLE":
            return splitTableByHeight(node, maxHeight, containerEl);
          case "UL":
          case "OL":
            return splitListByHeight(node, maxHeight, containerEl);
          case "IMG":
            return splitImageByHeight(node, maxHeight, containerEl);
          default:
            return splitInlineElementByHeight(node, maxHeight, containerEl);
        }
      }

      const newTree = [];
      let currentPageHeight = 0;
      const WIDOW_THRESHOLD = 6; // px

      function meaningfulChildren(wrapper) {
        const out = [];
        let n = wrapper.firstChild;

        while (n) {
          const isComment = n.nodeType === Node.COMMENT_NODE;
          const isEmptyText =
            n.nodeType === Node.TEXT_NODE && !n.textContent.trim();
          if (!isComment && !isEmptyText) out.push(n);
          n = n.nextSibling;
        }

        return out;
      }

      function addWrapperToTree(wrapper) {
        const wrapperChildren = () => meaningfulChildren(wrapper);
        if (!wrapperChildren().length) return;

        function commitCurrentWrapperAndMaybeBreak() {
          newTree.push(wrapper);
          currentPageHeight += wrapper.getBoundingClientRect().height;

          if (
            pageHeight - currentPageHeight <= WIDOW_THRESHOLD ||
            currentPageHeight >= pageHeight
          ) {
            newTree.push(document.createElement("page-break"));
            currentPageHeight = 0;
          }
        }

        function step(i) {
          const children = wrapperChildren();
          if (i >= children.length) {
            commitCurrentWrapperAndMaybeBreak();
            return;
          }

          const child = children[i];
          const remaining = pageHeight - currentPageHeight;
          const { current, next } = splitElement(child, remaining, wrapper);

          if (!current && next === wrapper) {
            if (currentPageHeight > 0) {
              newTree.push(document.createElement("page-break"));
              currentPageHeight = 0;
              return step(i);
            }
          }

          if (next) {
            while (child.nextSibling) next.appendChild(child.nextSibling);

            newTree.push(wrapper);
            currentPageHeight += wrapper.getBoundingClientRect().height;

            newTree.push(document.createElement("page-break"));
            currentPageHeight = 0;

            addWrapperToTree(next);
            return;
          }

          return step(i + 1);
        }

        step(0);
      }

      const wrappers = Array.from(editor.children);
      for (const w of wrappers) addWrapperToTree(w);

      editor.innerHTML = "";
      for (const n of newTree) editor.appendChild(n);
    }

    class PageBreak extends HTMLElement {
      constructor() {
        super();
        this.attachShadow({ mode: "open" });
      }
      connectedCallback() {
        this.render();
      }
      attributeChangedCallback(name, oldValue, newValue) {
        if (oldValue !== newValue) this.render();
      }
      render() {
        this.shadowRoot.innerHTML = `
          <style>
            :host {
              display: block;
              height: 2px;
              background: #ccc;
              margin: 10px -20px;
            }
          </style>
        `;
      }
    }
    customElements.define("page-break", PageBreak);
  </script>
</body>

</html>